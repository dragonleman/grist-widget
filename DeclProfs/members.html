<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8">
  	<title>Activities Declaration</title>
  	<link rel="stylesheet" href="https://web2018.epfl.ch/8.3.0/css/elements.min.css">
	<link rel="stylesheet" href="css/declprofs.css">
	<script src="https://web2018.epfl.ch/8.3.0/js/elements.min.js"></script>
</head>
<body>
  	<header class="header header-light my-2">
		<div class="header-light-content">
			<a class="logo" href="https://www.epfl.ch"><img src="img/epfl_small.png" alt="Logo EPFL" class="img-fluid"></a>
			<p class="site-title"><a href="#">Professor outside activities</a></p>
			<nav class="nav-lang nav-lang-short ml-auto pr-lg-5"></nav>
		</div>
  	</header>

	<div class="breadcrumb-container pb-0 mb-0">
		<nav aria-label="breadcrumb" class="breadcrumb-wrapper" id="breadcrumb-wrapper"></nav>
	</div>

  	<div class="main-container m-4">
		<div id="searchDiv" class="mb-3" style="position: relative; max-width: 300px;">
			<input type="text" id="searchInput" placeholder="Search someone..." style="width: 93.5%; padding-left: 30px; box-sizing: border-box;">
			<svg class="icon" aria-hidden="true" 
				style="position: absolute; left: 8px; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; pointer-events: none;">
				<use xlink:href="#user"></use>
			</svg>
		</div>

		<div>
			<table id="table_alt" class="table table-boxed">
				<thead>
					<tr>
						<th>Name</th>
						<th>Username</th>
						<th>Email</th>
						<th>Sciper</th>
					</tr>
				</thead>
			</table>
		</div>
	</div>

	<script src="https://docs.getgrist.com/grist-plugin-api.js"></script>
	<script>
		window.grist.ready({ requiredAccess: 'read table' });

		window.grist.onRecords((records) => {
			const table = document.getElementById('table_alt');

			// Efface tout sauf l'entÃªte
			while (table.rows.length > 1) table.deleteRow(1);

			if (!records || records.length === 0) {
				const row = table.insertRow();
				const cell = row.insertCell();
				cell.colSpan = 6;
				cell.textContent = 'No data found.';
				cell.style.textAlign = 'center';
				return;
			}

			for (const rec of records) {
				const row = table.insertRow();

				// Name
				const nameCell = row.insertCell();
				const nameSpan = document.createElement('span');
				nameSpan.textContent = rec.Name;
				nameCell.appendChild(nameSpan);
					
					// Username
				const usernameCell = row.insertCell();
				const usernameSpan = document.createElement('span');
				usernameSpan.textContent = rec.Username;
				usernameCell.appendChild(usernameSpan);

				// Email
				const emailCell = row.insertCell();
				const emailSpan = document.createElement('span');
				emailSpan.textContent = rec.Email;
				emailCell.appendChild(emailSpan);

				// UserId
				const sciperCell = row.insertCell();
				const sciperSpan = document.createElement('span');
				sciperSpan.textContent = rec.UserId;
				sciperCell.appendChild(sciperSpan);
			}
		});
	</script>

	<script>
    	svgPath = 'https://web2018.epfl.ch/8.3.0/icons/icons.svg';
    	featherSvgPath = 'https://web2018.epfl.ch/8.3.0/icons/feather-sprite.svg';
  	</script>
</body>
</html>


