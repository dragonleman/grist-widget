<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Activities Declaration</title>
	<link rel="stylesheet" href="//web2018.epfl.ch/8.2.0/css/elements.min.css">
</head>
<body>
	<header role="banner" class="header">
		<a class="logo" href="#">
		  <img src="img/epfl_small.png" alt="Logo EPFL, École polytechnique fédérale de Lausanne" class="img-fluid">
		</a>
	</header>

  <div class="card">
    <h3 id="title">Chargement des données...</h3>
    <p id="info"></p>
  </div>

  <script>
    // Démarre la connexion avec Grist
    window.grist.ready();

    // Récupère la ligne sélectionnée dans la table liée
    window.grist.onRecord((record) => {
      if (!record) {
        document.getElementById('title').innerText = "Aucune ligne sélectionnée";
        return;
      }
      document.getElementById('title').innerText = record.Name || "Sans nom";
      document.getElementById('info').innerText =
        `Activité: ${record.Activity || "–"} | Taux: ${record.Rate || "–"}`;
    });
  </script>
</body>
</html>

